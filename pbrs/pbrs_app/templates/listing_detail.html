{% load static %}
<!DOCTYPE html>
<html data-bs-theme="light" lang="en" style="font-family: Archivo, sans-serif;">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>{{ house_listing.house_name }}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Archivo&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans&amp;display=swap">
    <link rel="stylesheet" href="{% static 'css/styles.min.css' %}">
    {% comment %} <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" /> {% endcomment %}
</head>

<body>
    <nav class="navbar navbar-expand-md sticky-top shadow-sm py-3" style="font-family: Archivo, sans-serif;background: rgba(255,255,255,0.75);position: fixed;min-width: 100%;backdrop-filter: blur(10px);-webkit-backdrop-filter: blur(10px);border-bottom-right-radius: 40px;border-bottom-left-radius: 40px;">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img class="img-fluid" src="{% static 'img/logo.png' %}" width="20px" height="20px">
                <span class="fs-6" style="padding: 0px 10px;">Paul Balita Realty Services</span>
            </a>
            <button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-2" style="border-width: 0px;">
                <span class="visually-hidden">Toggle navigation</span>
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navcol-2">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/about">About Us</a></li>
                </ul>
                <a class="btn btn-primary shadow ms-md-2" role="button" href="/listings" style="border-radius: 40px;">See Listings</a>
            </div>
        </div>
    </nav>
    <div style="font-family: Archivo, sans-serif;padding-top: 5rem;">
        <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
            <ol class="carousel-indicators" style="list-style: none;">
                {% for image in house_listing.imagemodel_set.all %}
                    <li data-bs-target="#myCarousel" data-bs-slide-to="{{ forloop.counter0 }}" class="{% if forloop.first %}active{% endif %}"></li>
                {% endfor %}
            </ol>
            <div class="carousel-inner">
                {% for image in house_listing.imagemodel_set.all %}
                    <div class="carousel-item {% if forloop.first %}active{% endif %}" style="height: 24rem; position: relative; background-color: #777;">
                        <img src="{{ image.image.url }}" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>
                {% endfor %}
            </div>
            <a href="#myCarousel" class="carousel-control-prev" role="button" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            </a>
            <a href="#myCarousel" class="carousel-control-next" role="button" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </a>
        </div>
        <div style="padding: 2rem;">
            <h1 style="font-size: 32px;"><span style="color: rgb(156, 4, 150);">₱{{ house_listing.total_contract_price }}</span></h1>
            <h1>{{ house_listing.house_name }}</h1>
            <h2>{{ house_listing.address }}</h2>
            <p>{{ house_listing.description }}</p>
            <p>Agent: {{ house_listing.contact_agent }}</p>
            <div>
                <p>Contact Number: <a href="tel:{{ house_listing.agent_phone_number }}">{{ house_listing.agent_phone_number }}</a></p>
            </div>            
            <div>
                <button id="copy-link-btn" class="btn btn-primary" type="button" onclick="copyToClipboard()">Share this listing ↗</button>
                <input type="text" id="listing-url" value="{% url 'listing_detail' house_listing.id %}" style="position: absolute; left: -9999px;">
            </div>
        </div>
    </div>
    <footer class="text-center bg-dark">
        <div class="container text-white py-4 py-lg-5">
            <ul class="list-inline" style="font-family: Archivo, sans-serif;">
                <li class="list-inline-item me-4"><a class="link-light" href="/">Home</a></li>
                <li class="list-inline-item me-4"><a class="link-light" href="/about">About Us</a></li>
                <li class="list-inline-item"><a class="link-light" href="/listings">See Listings</a></li>
            </ul>
            <ul class="list-inline">
                <li class="list-inline-item me-4"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-facebook text-light">
                    <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"></path>
                </svg>
                    www.facebook.com/pbrs</li>
                </li>
                <li class="list-inline-item">paulbalitarealtyservices@gmail.com</li>
            </ul>
            <p class="mb-0" style="font-family: Archivo, sans-serif;">Copyright © 2024 Brand</p>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/script.min.js' %}"></script>
    <script>
        function copyToClipboard() {
            const fullURL = window.location.origin + document.getElementById('listing-url').value;
            navigator.clipboard.writeText(fullURL).then(() => {
                alert('Listing URL copied to clipboard: ' + fullURL);
            });
        }
    </script>
</body>

</html>
